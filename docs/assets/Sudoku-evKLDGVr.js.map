{"version":3,"file":"Sudoku-evKLDGVr.js","sources":["../../src/pages/Sudoku.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../styles.css\"\r\nexport default function Sudoku() {\r\n\r\n  let initialBoard = [\r\n      // Puzzle to eventually be replaced with generator\r\n      [5, 3, 0, 0, 7, 0, 0, 0, 0],\r\n      [6, 0, 0, 1, 9, 5, 0, 0, 0],\r\n      [0, 9, 8, 0, 0, 0, 0, 6, 0],\r\n      [8, 0, 0, 0, 6, 0, 0, 0, 3],\r\n      [4, 0, 0, 8, 0, 3, 0, 0, 1],\r\n      [7, 0, 0, 0, 2, 0, 0, 0, 6],\r\n      [0, 6, 0, 0, 0, 0, 2, 8, 0],\r\n      [0, 0, 0, 4, 1, 9, 0, 0, 5],\r\n      [0, 0, 0, 0, 8, 0, 0, 7, 9]\r\n  ];\r\n\r\n  const solution = [\r\n      [5, 3, 4, 6, 7, 8, 9, 1, 2],\r\n      [6, 7, 2, 1, 9, 5, 3, 4, 8],\r\n      [1, 9, 8, 3, 4, 2, 5, 6, 7],\r\n      [8, 5, 9, 7, 6, 1, 4, 2, 3],\r\n      [4, 2, 6, 8, 5, 3, 7, 9, 1],\r\n      [7, 1, 3, 9, 2, 4, 8, 5, 6],\r\n      [9, 6, 1, 5, 3, 7, 2, 8, 4],\r\n      [2, 8, 7, 4, 1, 9, 6, 3, 5],\r\n      [3, 4, 5, 2, 8, 6, 1, 7, 9]\r\n  ]; \r\n\r\n  const [board, setBoard] = useState(initialBoard);\r\n  const [selected, setSelected] = useState({ row: null, col: null });\r\n  const [message, setMessage] = useState(null);\r\n\r\n  // Arrow key navigation\r\n  useEffect(() => {\r\n    const handleKey = (event) => {\r\n      if (selected.row === null || selected.col === null) return;\r\n\r\n      let { row, col } = selected;\r\n      switch (event.key) {\r\n        case 'ArrowUp':\r\n          event.preventDefault(); //default behavior changes the number of the cell\r\n          if (row > 0) {\r\n            setSelected({ row: row - 1, col });\r\n            setTimeout(() => {\r\n              const cell = document.querySelector(`input[data-row='${row - 1}'][data-col='${col}']`);\r\n              if (cell) cell.focus();\r\n            }, 0);\r\n          }\r\n          break;\r\n        case 'ArrowDown':\r\n          event.preventDefault();\r\n          if (row < 8) {\r\n            setSelected({ row: row + 1, col });\r\n            setTimeout(() => {\r\n              const cell = document.querySelector(`input[data-row='${row + 1}'][data-col='${col}']`);\r\n              if (cell) cell.focus();\r\n            }, 0);\r\n          }\r\n          break;\r\n        case 'ArrowLeft':\r\n          event.preventDefault();\r\n          if (col > 0) {\r\n            setSelected({ row, col: col - 1 });\r\n            setTimeout(() => {\r\n              const cell = document.querySelector(`input[data-row='${row}'][data-col='${col - 1}']`);\r\n              if (cell) cell.focus();\r\n            }, 0);\r\n          }\r\n          break;\r\n        case 'ArrowRight':\r\n          event.preventDefault();\r\n          if (col < 8) {\r\n            setSelected({ row, col: col + 1 });\r\n            setTimeout(() => {\r\n              const cell = document.querySelector(`input[data-row='${row}'][data-col='${col + 1}']`);\r\n              if (cell) cell.focus();\r\n            }, 0);\r\n          }\r\n          break;\r\n        case '1': case '2': case '3': case '4': case '5':\r\n        case '6': case '7': case '8': case '9':\r\n          event.preventDefault();\r\n          handleInput(parseInt(event.key));\r\n          break;\r\n        case 'Backspace': case 'Delete': case ' ':\r\n          event.preventDefault();\r\n          handleInput(0);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKey);\r\n\r\n    return () => window.removeEventListener('keydown', handleKey);\r\n  }, [selected, board, initialBoard]);\r\n\r\n  //handle number input (keyboard/buttons)\r\n  const handleInput = (value) => {\r\n    if (selected.row === null || selected.col === null) return;\r\n\r\n    const { row, col } = selected;\r\n    if (initialBoard[row][col] !== 0) return; // Lock original numbers\r\n\r\n    const newBoard = [...board];\r\n    newBoard[row][col] = value;\r\n    setBoard(newBoard);\r\n  };\r\n\r\n  //check solution\r\n  const checkSolution = () => {\r\n    let incorrectCount = 0;\r\n    let emptyCount = 0;\r\n\r\n    for (let r = 0; r < 9; r++) {\r\n      for (let c = 0; c < 9; c++) {\r\n        if (board[r][c] === 0) {\r\n          emptyCount++;\r\n        } else if (board[r][c] !== solution[r][c]) {\r\n          incorrectCount++;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (emptyCount > 0) {\r\n      setMessage({\r\n        type: 'warning',\r\n        text: 'Please fill in all cells before checking solution.',\r\n      });\r\n    } else if (incorrectCount > 0) {\r\n      setMessage({\r\n        type: 'error',\r\n        text: 'The solution is incorrect. Please try again.',\r\n        incorrectCount: incorrectCount\r\n      });\r\n    } else {\r\n      setMessage({\r\n        type: 'success',\r\n        text: 'Congratulations, you solved the puzzle correctly!',\r\n      });\r\n    }\r\n  };\r\n\r\n  // new game button\r\n  const newGame = () => {\r\n    setBoard(initialBoard.map(row => [...row]));\r\n    setSelected({ row: null, col: null });\r\n    setMessage(null);\r\n  };\r\n  \r\n  return (\r\n    <div className=\"container\">\r\n      <div id=\"banner-placeholder\"></div>\r\n      <h1>✏️Sudoku</h1>\r\n      <div id=\"sudoku-container\">\r\n        <div id=\"game-area\" className=\"sudoku-game\">\r\n          <div id=\"sudoku-board\">\r\n            {board.map((row, r) => \r\n              row.map((val, c) => {\r\n                const isSelected = selected.row === r && selected.col === c;\r\n                const isFixed = initialBoard[r][c] !== 0;\r\n\r\n                return (\r\n                  <input\r\n                    key={`${r}-${c}`}\r\n                    type=\"text\"\r\n                    disabled={isFixed}\r\n                    value={val || \"\"}\r\n                    data-row={r}\r\n                    data-col={c}\r\n                    onClick={() => setSelected({ row: r, col: c })}\r\n                    className={`cell\r\n                      ${isFixed ? \"start-nums\" : \"\"}\r\n                      ${isSelected ? \"selected\" : \"\"}\r\n                      ${r === 2 || r === 5 ? \"horizontal-line\" : \"\"}\r\n                      ${c === 2 || c === 5 ? \"vertical-line\" : \"\"}`}\r\n                    onChange={(e) => {\r\n                      const value = e.target.value;\r\n                      if (value === '' || /^[1-9]$/.test(value)) {\r\n                        handleInput(value === '' ? 0 : parseInt(value));\r\n                      }\r\n                    }}\r\n                  />\r\n                );\r\n              })\r\n            )}\r\n          </div>\r\n\r\n          {message && (\r\n            <div id=\"message-area\">\r\n              <div className={`message ${message.type}`}>\r\n                {message.text}\r\n              </div>\r\n              {message.incorrectCount !== undefined && (\r\n                <div className=\"incorrect-count\">\r\n                  Incorrect Count: {message.incorrectCount}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n            \r\n        <div id=\"controls-area\">\r\n          <div id=\"number-buttons\">\r\n            {[1,2,3,4,5,6,7,8,9].map(num => (\r\n              <button \r\n                key={num} \r\n                className=\"number-button\" \r\n                onClick={() => handleInput(num)}\r\n              >\r\n                {num}\r\n              </button>\r\n            ))}   \r\n          </div>\r\n          <button id=\"new-game\" onClick={newGame}>New Game</button>\r\n          <button id=\"check-solution\" onClick={checkSolution}>Check Solution</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["Sudoku","initialBoard","solution","board","setBoard","useState","selected","setSelected","message","setMessage","useEffect","handleKey","event","row","col","cell","handleInput","value","newBoard","checkSolution","incorrectCount","emptyCount","r","c","newGame","jsxs","jsx","val","isSelected","isFixed","e","num"],"mappings":"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"}