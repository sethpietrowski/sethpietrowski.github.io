import{r as l,j as m}from"./index-GrET7jio.js";import{S as T,P as q,W as U,T as W,c as X,a as Y,A as H,D as P,Q as D,V as C}from"./three.module-CBEvh3C0.js";const I=()=>{const w=l.useRef(null),M=l.useRef(null),p=l.useRef(null),e=l.useRef({isActive:!1,targetX:0,targetY:0,rotationX:0,rotationY:0,moveForward:!1,moveBackward:!1,moveLeft:!1,moveRight:!1,moveUp:!1,moveDown:!1,isRotating:!1});return l.useEffect(()=>{if(!w.current)return;const s=w.current,c=new T,d=new q(75,window.innerWidth/window.innerHeight,.1,1e3),o=new U({antialias:!0});o.setSize(window.innerWidth,window.innerHeight),s.appendChild(o.domElement);const f=new W,S=`
      varying vec3 vNormal;
      void main() {
        vNormal = normalize(normalMatrix * normal);
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }`,j=`
      varying vec3 vNormal;
      void main() {
        vec3 lightDirection = normalize(vec3(-1.0,1.0,0.0)); //light location is to left and above camera
        float intensity = pow(max(dot(vNormal, lightDirection), 0.0), 2.5); // make edges glow
        gl_FragColor = vec4(0.0, intensity, 0.0, 1.0); // greenish glow on edges
      }`,h=new X({vertexShader:S,fragmentShader:j,wireframe:!1}),t=new Y(f,h);c.add(t),d.position.z=5;const F=new H(16777215,.7);c.add(F);const g=new P(16777215,.7);g.position.set(-1,-1,-1).normalize(),c.add(g),M.current={scene:c,camera:d,renderer:o,cube:t};const i=.1,x=.001,r=document.createElement("div"),a=document.createElement("div");r.className="indicator activate",r.style.cssText="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.9); color: white; padding: 20px; border-radius: 10px; font-size: 18px; text-align: center; z-index: 1000; cursor: pointer;",r.innerText="Click Here to Activate Viewport",a.className="indicator exit",a.style.cssText="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.9); color: white; padding: 20px; border-radius: 10px; font-size: 18px; text-align: center; z-index: 1000; display: none;",a.innerText="Press Esc to Exit Viewport",s.appendChild(r),s.appendChild(a);const k=n=>{n.target===r&&!e.current.isActive&&(e.current.isActive=!0,r.style.display="none",a.style.display="block")},y=n=>{if(n.key==="Escape"&&e.current.isActive){e.current.isActive=!1,r.style.display="block",a.style.display="none";return}if(e.current.isActive)switch(n.key){case"w":e.current.moveForward=!0;break;case"s":e.current.moveBackward=!0;break;case"a":e.current.moveLeft=!0;break;case"d":e.current.moveRight=!0;break;case" ":e.current.moveUp=!0;break;case"Control":e.current.moveDown=!0;break;case"ArrowUp":t.position.y+=1;break;case"ArrowDown":t.position.y-=1;break;case"ArrowLeft":t.position.x-=1;break;case"ArrowRight":t.position.x+=1;break}},b=n=>{switch(n.key){case"w":e.current.moveForward=!1;break;case"s":e.current.moveBackward=!1;break;case"a":e.current.moveLeft=!1;break;case"d":e.current.moveRight=!1;break;case" ":e.current.moveUp=!1;break;case"Control":e.current.moveDown=!1;break}},A=n=>{e.current.isActive&&n.button===0&&(e.current.isRotating=!0)},E=n=>{n.button===0&&(e.current.isRotating=!1)},L=n=>{if(e.current.isActive&&e.current.isRotating){const u=n.movementX||0,v=n.movementY||0;e.current.rotationX+=v*x,e.current.rotationY+=u*x}},R=()=>{o.setSize(window.innerWidth,window.innerHeight),d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix()};r.addEventListener("click",k),document.addEventListener("keydown",y),window.addEventListener("keyup",b),window.addEventListener("mousedown",A),window.addEventListener("mouseup",E),window.addEventListener("mousemove",L),window.addEventListener("resize",R);const N=n=>{if(e.current&&e.current.isRotating){const u=new D,v=new D;v.setFromAxisAngle(new C(0,1,0),e.current.rotationY),u.setFromAxisAngle(new C(1,0,0),e.current.rotationX),t.quaternion.multiplyQuaternions(v,t.quaternion),t.quaternion.multiplyQuaternions(u,t.quaternion),e.current.rotationX*=.9,e.current.rotationY*=.9}};performance.now();const z=()=>{p.current=requestAnimationFrame(z),performance.now(),e.current&&e.current.isActive&&(N(),e.current.moveForward&&(t.position.z+=i),e.current.moveBackward&&(t.position.z-=i),e.current.moveLeft&&(t.position.x+=i),e.current.moveRight&&(t.position.x-=i),e.current.moveUp&&(t.position.y-=i),e.current.moveDown&&(t.position.y+=i)),o.render(c,d)};return z(),()=>{p.current&&cancelAnimationFrame(p.current),r.removeEventListener("click",k),document.removeEventListener("keydown",y),window.removeEventListener("keyup",b),window.removeEventListener("mousedown",A),window.removeEventListener("mouseup",E),window.removeEventListener("mousemove",L),window.removeEventListener("resize",R),s&&o.domElement&&s.removeChild(o.domElement),f.dispose(),h.dispose(),o.dispose()}},[]),m.jsxs("div",{className:"three-d-model-container",children:[m.jsxs("div",{className:"container",children:[m.jsx("h1",{children:"3D Interactive Model"}),m.jsx("p",{style:{textAlign:"center"},children:"Click viewport to activate. Click esc to deactivate viewport. W,S move in into screen/away from screen. A/D move sideways. Space/Ctrl move up/down. Hold down and drag left mouse button to rotate."})]}),m.jsx("div",{ref:w,style:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"}})]})};export{I as default};
//# sourceMappingURL=ThreeDModel-BL5pODda.js.map
