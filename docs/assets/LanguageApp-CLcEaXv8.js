import{r as o,j as e,B as T}from"./index-CDocZZU0.js";import{c as l}from"./createLucideIcon-DF7XKXma.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$=l("book-open",E);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],D=l("book",A);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],k=l("file-text",G);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],S=l("plus",I);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Y=l("save",W);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],L=l("search",q);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],V=l("x",P),w={高运:{pinyin:"gāo yùn",translation:"Gao Yun"},请客:{pinyin:"qǐng kè",translation:"treat guests"},从:{pinyin:"cóng",translation:"from"},家:{pinyin:"jiā",translation:"home"},回来:{pinyin:"huí lái",translation:"come back"},很:{pinyin:"hěn",translation:"very"},晚:{pinyin:"wǎn",translation:"late"},了:{pinyin:"le",translation:"particle"},曹操:{pinyin:"cáo cāo",translation:"Cao Cao"},还:{pinyin:"hái",translation:"still"},没有:{pinyin:"méi yǒu",translation:"do not have"},睡:{pinyin:"shuì",translation:"sleep"},他:{pinyin:"tā",translation:"he"},手里:{pinyin:"shǒu lǐ",translation:"in hand"},拿着:{pinyin:"ná zhe",translation:"holding"},刀:{pinyin:"dāo",translation:"knife"},好像:{pinyin:"hǎo xiàng",translation:"seems like"},听到:{pinyin:"tīng dào",translation:"hear"},一个:{pinyin:"yí gè",translation:"one"},声音:{pinyin:"shēng yīn",translation:"voice"},在:{pinyin:"zài",translation:"at"},说:{pinyin:"shuō",translation:"say"},请您:{pinyin:"qǐng nín",translation:"please you"},一定:{pinyin:"yí dìng",translation:"definitely"},要:{pinyin:"yào",translation:"must"},杀了:{pinyin:"shā le",translation:"kill"},看看:{pinyin:"kàn kàn",translation:"look at"},想到:{pinyin:"xiǎng dào",translation:"think of"},今天:{pinyin:"jīn tiān",translation:"today"},大家:{pinyin:"dà jiā",translation:"everyone"},对:{pinyin:"duì",translation:"to"},说的:{pinyin:"shuō de",translation:"said"},话:{pinyin:"huà",translation:"words"},突然:{pinyin:"tū rán",translation:"suddenly"},觉得:{pinyin:"jué de",translation:"feel"},手上:{pinyin:"shǒu shàng",translation:"in hand"},的:{pinyin:"de",translation:"particle"},变得:{pinyin:"biàn de",translation:"become"},重:{pinyin:"zhòng",translation:"heavy"}},U=()=>{const[m,j]=o.useState([]),[i,x]=o.useState(null),[_,h]=o.useState(!1),[C,f]=o.useState(null),[F,g]=o.useState(0),[c,p]=o.useState(null),[y,v]=o.useState(""),[u,N]=o.useState("");o.useEffect(()=>{if(m.length===0){const a={id:1,title:"Gao Yun Entertains Guests",sentences:[{chinese:"从高运家回来，很晚了，曹操还没有睡。",translation:"Coming back from Gao Yun's house, it was very late, and Cao Cao still hadn't slept.",words:["从","高运","家","回来","，","很","晚","了","，","曹操","还","没有","睡","。"]},{chinese:"他手里拿着刀，好像听到一个声音在说：请您一定要杀了他！",translation:"He held a knife in his hand, as if he heard a voice saying: Please, you must kill him!",words:["他","手里","拿着","刀","，","好像","听到","一个","声音","在","说","：","请您","一定","要","杀了","他","！"]},{chinese:"他看看刀，想到今天在高运家，大家对他说的话，突然觉得手上的刀变得很重很重。",translation:"He looked at the knife, thinking about what everyone said to him today at Gao Yun's house, and suddenly felt the knife in his hand become very, very heavy.",words:["他","看看","刀","，","想到","今天","在","高运","家","，","大家","对","他","说的","话","，","突然","觉得","手上","的","刀","变得","很","重","很","重","。"]}],createdAt:new Date().toISOString()};j([a])}},[m]),o.useEffect(()=>{i&&i.sentences.length>0&&(p({type:"sentence",content:i.sentences[0].translation}),g(0))},[i]);const M=a=>{const t=a.trim().split(`
`).filter(s=>s.trim()),n=[];for(let s=0;s<t.length;s+=2){const r=t[s]?.trim(),b=t[s+1]?.trim();r&&b&&n.push({chinese:r,translation:b,words:z(r)})}return n},z=a=>{const t=[];let n="";for(let s of a)/[\u4e00-\u9fff]/.test(s)?(n+=s,w[n]?(t.push(n),n=""):n.length>=2&&(t.push(n.slice(0,-1)),n=n.slice(-1))):(n&&(t.push(n),n=""),s.trim()&&t.push(s));return n&&t.push(n),t},H=(a,t)=>{p({type:"sentence",content:i.sentences[a].translation}),g(a)},d=(a,t,n)=>{if(n==="enter"||n==="down"){const s=w[a];s&&(f(a),p({type:"word",word:a,pinyin:s.pinyin,translation:s.translation}))}else(n==="leave"||n==="up")&&(f(null),p({type:"sentence",content:i.sentences[t].translation}),g(t))},B=()=>{if(!u.trim()||!y.trim())return;const a=M(y),t={id:Date.now(),title:u.trim(),sentences:a,createdAt:new Date().toISOString()};j(n=>[...n,t]),N(""),v(""),h(!1)};return e.jsxs("div",{className:"reading-app",children:[e.jsx(T,{}),e.jsxs("header",{className:"reading-header",children:[e.jsxs("div",{className:"reading-header__content",children:[e.jsx("h1",{className:"reading-header__title",children:"Chinese Reading App"}),e.jsxs("div",{className:"reading-header__actions",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("button",{onClick:()=>h(!0),className:"w-5 h-5",children:e.jsx(S,{})})]})]}),e.jsxs("div",{className:"reading-header__tabs",children:[e.jsxs("button",{onClick:()=>x(null),className:`reading-tab ${i?"":"reading-tab--active"}`,children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Home"})]}),e.jsxs("button",{className:"reading-tab",children:[e.jsx(D,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Discover"})]}),e.jsxs("button",{className:"reading-tab",children:[e.jsx(k,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Flashcards"})]})]})]}),i&&c&&e.jsx("div",{className:"translation-banner",children:c.type==="word"?e.jsxs("div",{className:"text-center w-full",children:[e.jsx("div",{className:"translation-word",children:c.word}),e.jsx("div",{className:"translation-pinyin",children:c.pinyin}),e.jsx("div",{className:"translation-text",children:c.translation})]}):e.jsx("div",{className:"text-center w-full",children:e.jsx("div",{className:"translation-text",children:c.content})})}),e.jsx("main",{className:"reading-content",children:i?e.jsxs("div",{children:[e.jsx("button",{onClick:()=>x(null),className:"text-blue-400 mb-4 flex items-center gap-2",style:{color:"#60a5fa",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"← Back to Stories"}),e.jsx("h2",{className:"text-xl font-semibold mb-6",style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1.5rem"},children:i.title}),e.jsx("div",{className:"story-text",children:i.sentences.map((a,t)=>e.jsxs("div",{className:"relative inline",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-auto",style:{top:"-4px",left:"0",right:"0",bottom:"-6px"},onMouseEnter:()=>H(t)}),a.words.map((n,s)=>e.jsx("span",{className:`word-highlight ${C===n?"word-highlight--selected":""}`,style:{padding:"2px 0",margin:"0",position:"relative",zIndex:10},onMouseEnter:r=>{r.stopPropagation(),d(n,t,"enter")},onMouseLeave:r=>{r.stopPropagation(),d(n,t,"leave")},onMouseDown:()=>d(n,t,"down"),onMouseUp:()=>d(n,t,"up"),onTouchStart:()=>d(n,t,"down"),onTouchEnd:()=>d(n,t,"up"),children:n},`${t}-${s}`)),t<i.sentences.length-1&&e.jsx("div",{className:"inline-block w-0 h-1 pointer-events-none"})]},t))})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem"},children:"My Stories"}),e.jsxs("button",{onClick:()=>h(!0),className:"reading-btn reading-btn--primary",style:{marginBottom:0},children:[e.jsx(S,{className:"w-4 h-4"}),"Add Story"]})]}),m.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"3rem 0",color:"#9ca3af"},children:[e.jsx(k,{className:"w-16 h-16 mx-auto mb-4",style:{width:"4rem",height:"4rem",margin:"0 auto 1rem auto",color:"#4b5563"}}),e.jsx("p",{style:{fontSize:"1.125rem",marginBottom:"0.5rem"},children:"No stories found."}),e.jsx("p",{children:"Import your first Chinese story to get started"})]}):e.jsx("div",{className:"story-list",children:m.map(a=>e.jsxs("div",{onClick:()=>x(a),className:"story-card",children:[e.jsx("h3",{className:"story-card__title",children:a.title}),e.jsxs("p",{className:"story-card__meta",children:[a.sentences.length," sentences"]}),e.jsxs("p",{className:"story-card__meta",style:{fontSize:"0.75rem",marginTop:"0.25rem"},children:["Added ",new Date(a.createdAt).toLocaleDateString()]})]},a.id))})]})}),_&&e.jsx("div",{className:"reading-modal-overlay",children:e.jsxs("div",{className:"reading-modal",children:[e.jsxs("div",{className:"reading-modal__header",children:[e.jsx("h3",{className:"reading-modal__title",children:"Import Story"}),e.jsx("button",{onClick:()=>h(!1),className:"reading-modal__close",children:e.jsx(V,{className:"w-5 h-5"})})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsxs("div",{className:"reading-form-group",children:[e.jsx("label",{className:"reading-form-label",children:"Story Title"}),e.jsx("input",{type:"text",value:u,onChange:a=>N(a.target.value),placeholder:"Enter story title...",className:"reading-form-input"})]}),e.jsxs("div",{className:"reading-form-group",children:[e.jsxs("label",{className:"reading-form-label",children:["Story Content",e.jsx("span",{className:"reading-form-hint",style:{display:"block"},children:"Format: Chinese sentence, then English translation on next line, repeat."})]}),e.jsx("textarea",{value:y,onChange:a=>v(a.target.value),placeholder:`从高运家回来，很晚了，曹操还没有睡。
Coming back from Gao Yun's house, it was very late, and Cao Cao still hadn't slept.

他手里拿着刀，好像听到一个声音在说...
He held a knife in his hand, as if he heard a voice saying...`,rows:10,className:"reading-form-textarea"})]})]}),e.jsxs("div",{className:"reading-button-group",children:[e.jsx("button",{onClick:()=>h(!1),className:"reading-btn reading-btn--secondary",children:"Cancel"}),e.jsxs("button",{onClick:B,disabled:!u.trim()||!y.trim(),className:"reading-btn reading-btn--primary",children:[e.jsx(Y,{className:"w-4 h-4"}),"Import Story"]})]})]})})]})};export{U as default};
//# sourceMappingURL=LanguageApp-CLcEaXv8.js.map
